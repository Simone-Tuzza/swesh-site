<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Investor Dashboard - Live Monitor</title>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"/>

    <style>
        :root {
            --brand: #fd9ef8;
            --success: #00ff9d;
            --bg: #000000;
            --surface: #0a0a0a;
            --border: rgba(255, 255, 255, 0.1);
            --mono: 'JetBrains Mono', monospace;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }

        body {
            background-color: var(--bg);
            color: #fff;
            font-family: 'Inter', sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            width: 100%;
        }

        /* CARD */
        .dashboard-card {
            background: var(--surface);
            border: 1px solid var(--border);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 0 50px rgba(253, 158, 248, 0.05);
        }

        /* HEADER */
        .dash-header {
            background: rgba(255,255,255,0.03);
            padding: 15px 25px;
            border-bottom: 1px solid var(--border);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .status-indicator {
            font-family: var(--mono);
            font-size: 0.75rem;
            color: var(--success);
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(0, 255, 157, 0.1);
            padding: 4px 10px;
            border-radius: 4px;
            border: 1px solid rgba(0, 255, 157, 0.2);
        }
        .live-dot { width: 6px; height: 6px; background: var(--success); border-radius: 50%; animation: pulse 1.5s infinite; }

        .user-id { font-family: var(--mono); font-size: 0.75rem; color: rgba(255,255,255,0.4); }

        /* BODY */
        .dash-body { padding: 40px 30px; text-align: left; }

        h1 { font-size: 1.6rem; margin-bottom: 10px; line-height: 1.2; }
        p.intro { font-size: 0.95rem; color: rgba(255,255,255,0.6); margin-bottom: 30px; }

        /* FOMO SECTION */
        .fomo-section {
            margin-bottom: 40px;
            background: rgba(0,0,0,0.3);
            border: 1px solid var(--border);
            border-radius: 12px;
            padding: 20px;
        }

        .fomo-header {
            display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.85rem; font-weight: 600;
        }
        .fomo-val { color: var(--brand); font-family: var(--mono); }

        .progress-track {
            width: 100%; height: 6px; background: rgba(255,255,255,0.1); border-radius: 10px; overflow: hidden;
        }
        .progress-fill {
            height: 100%; width: 0%; /* Parte da 0 per animazione */
            background: linear-gradient(90deg, #fd9ef8, #bd00ff);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(253, 158, 248, 0.5);
            transition: width 2s cubic-bezier(0.22, 1, 0.36, 1);
        }

        .fomo-note { font-size: 0.75rem; color: rgba(255,255,255,0.4); margin-top: 10px; font-family: var(--mono); }

        /* METRICS */
        .metrics-grid {
            display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 30px;
        }
        .metric-box {
            background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 8px; padding: 15px;
        }
        .m-label { font-size: 0.75rem; color: rgba(255,255,255,0.5); margin-bottom: 5px; text-transform: uppercase; }
        .m-value { font-size: 1.2rem; font-weight: 700; color: #fff; font-family: var(--mono); }
        .m-delta { font-size: 0.7rem; color: var(--success); margin-left: 5px; }

        /* LOCKED AREA */
        .locked-area {
            border-top: 1px dashed var(--border); padding-top: 25px; opacity: 0.5; cursor: not-allowed; filter: grayscale(1); transition: 0.3s;
        }
        .locked-area:hover { opacity: 0.7; filter: grayscale(0.5); }
        .lock-header { display: flex; align-items: center; gap: 10px; font-weight: 600; margin-bottom: 5px; color: #fff; }

        .home-btn {
            display: block; text-align: center; margin-top: 30px;
            color: rgba(255,255,255,0.3); font-size: 0.8rem; text-decoration: none; transition: 0.3s;
        }
        .home-btn:hover { color: var(--brand); }

        @keyframes pulse { 0% { opacity: 0.4; } 50% { opacity: 1; } 100% { opacity: 0.4; } }
    </style>
</head>
<body>

    <div class="container">
        <div class="dashboard-card">
            
            <div class="dash-header">
                <div class="status-indicator"><span class="live-dot"></span> LIVE SYSTEM</div>
                <div class="user-id" id="sessionId">SESSION: ...</div>
            </div>

            <div class="dash-body">
                <h1>Profilo in revisione.</h1>
                <p class="intro">
                    Il TEAM SWESH sta analizzando il fit strategico. I dati live sono disponibili in modalità sola lettura.
                </p>

                <div class="fomo-section">
                    <div class="fomo-header">
                        <span style="color:rgba(255,255,255,0.7)">ROUND ALLOCATION</span>
                        <span class="fomo-val" id="roundPercent">0% FILLED</span>
                    </div>
                    <div class="progress-track">
                        <div class="progress-fill" id="roundBar"></div>
                    </div>
                    <div class="fomo-note">⚠️ High volume. Allocation based on strategic fit.</div>
                </div>

                <div class="metrics-grid">
                    <div class="metric-box">
                        <div class="m-label">Waitlist Growth</div>
                        <div class="m-value" id="waitlistCount">2,000 <span class="m-delta">▲ TODAY</span></div>
                    </div>
                    <div class="metric-box">
                        <div class="m-label">Avg. Engagement</div>
                        <div class="m-value">8.4m <span class="m-delta">▲ STABLE</span></div>
                    </div>
                </div>

                <div class="locked-area">
                    <div class="lock-header"><i class="fa-solid fa-lock"></i> Investor Data Room</div>
                    <p style="font-size:0.85rem; color:rgba(255,255,255,0.5); margin:0;">
                        Accesso riservato. Include Pitch Deck, Financials e Cap Table.
                    </p>
                </div>
            </div>
        </div>
        <a href="index.html" class="home-btn">Torna alla Home Page</a>
    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function() {
            
            // 1. GENERA ID SESSIONE CASUALE
            const randomId = "INV-" + Math.floor(1000 + Math.random() * 9000);
            document.getElementById("sessionId").textContent = "SESSION: #" + randomId;

            // 2. CALCOLA I NUMERI IN BASE ALLA DATA DI OGGI
            // Data di partenza: 1 Gennaio 2026
            const startDate = new Date("2026-01-01"); 
            const today = new Date();
            // Calcola giorni passati
            const diffTime = Math.abs(today - startDate);
            const daysPassed = Math.ceil(diffTime / (1000 * 60 * 60 * 24)); 

            // --- CALCOLO WAITLIST ---
            // Parte da 2200 e aggiunge 14 persone al giorno (media)
            const baseWaitlist = 2200;
            const growthPerDay = 14;
            // Aggiunge un piccolo numero casuale (0-5) per renderlo meno "matematico" ogni volta
            const randomVariance = Math.floor(Math.random() * 5);
            const currentWaitlist = baseWaitlist + (daysPassed * growthPerDay) + randomVariance;
            
            // --- CALCOLO ROUND % ---
            // Parte da 68% e cresce di 0.15% al giorno. Max 94% (non deve arrivare a 100)
            const basePercent = 68;
            const percentGrowth = 0.15;
            let currentPercent = basePercent + (daysPassed * percentGrowth);
            if(currentPercent > 94) currentPercent = 94; // Blocco al 94%

            // Formattazione numeri
            const formattedWaitlist = new Intl.NumberFormat('en-US').format(currentWaitlist);
            const formattedPercent = currentPercent.toFixed(1) + "%"; // Es: "72.4%"

            // 3. AGGIORNA E ANIMA L'HTML
            
            // Anima la barra percentuale
            setTimeout(() => {
                document.getElementById("roundBar").style.width = currentPercent + "%";
            }, 300);

            // Effetto "Conteggio" per i numeri
            animateValue("roundPercent", 0, currentPercent, 1500, "% FILLED");
            animateValue("waitlistCount", 0, currentWaitlist, 1500, ' <span class="m-delta" style="font-size:0.7rem; color:#00ff9d">▲ TODAY</span>');

            function animateValue(id, start, end, duration, suffix) {
                let obj = document.getElementById(id);
                let startTimestamp = null;
                const step = (timestamp) => {
                    if (!startTimestamp) startTimestamp = timestamp;
                    const progress = Math.min((timestamp - startTimestamp) / duration, 1);
                    // Calcolo valore intermedio
                    let currentVal = Math.floor(progress * (end - start) + start);
                    
                    // Se stiamo animando la percentuale, usa i decimali
                    if(suffix.includes("FILLED")) {
                        currentVal = (progress * (end - start) + start).toFixed(1);
                    } else {
                        // Se è la waitlist, formatta con virgola
                         currentVal = new Intl.NumberFormat('en-US').format(currentVal);
                    }

                    obj.innerHTML = currentVal + suffix;
                    if (progress < 1) {
                        window.requestAnimationFrame(step);
                    }
                };
                window.requestAnimationFrame(step);
            }
        });
    </script>

</body>
</html>